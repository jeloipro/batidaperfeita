{"version":3,"sources":["src/make-relative.js"],"names":["require","relative","dirname","getConfig","slash","cwd","process","module","exports","markdownPath","imagePath","options","mediaPath","publicPath","indexOf","replace","newPath"],"mappings":";;;;;;;;;;;;eAA8BA,e;IAAtBC,Q,YAAAA,Q;IAAUC,O,YAAAA,O;;AAClB,IAAMC,YAAYH,uBAAlB;AACA,IAAMI,QAAQJ,gBAAd;;AAEA,IAAMK,MAAMC,QAAQD,GAAR,EAAZ;;AAEAE,OAAOC,OAAP;AAAA,qFAAiB,iBAAOC,YAAP,EAAqBC,SAArB,EAAgCC,OAAhC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACwBR,UAAUQ,OAAV,CADxB;;AAAA;AAAA;AACRC,eADQ,SACRA,SADQ;AACGC,gBADH,SACGA,UADH;;AAAA,YAGf,OAAOH,SAAP,iBACAA,UAAUI,OAAV,CAAqBD,UAArB,YAAwC,CAJzB;AAAA;AAAA;AAAA;;AAAA,uCAMRH,SANQ;;AAAA;AAQhBD,qBAAeP,QAAQO,YAAR,EAAsBM,OAAtB,CAAiCV,GAAjC,WAAf;AACAK,kBAAYA,UAAUK,OAAV,CAAkBF,UAAlB,EAA8BD,SAA9B,CAAZ;AACMI,aAVU,GAUAf,SAASQ,YAAT,EAAuBC,SAAvB,CAVA;AAAA,uCAWTN,MAAMY,OAAN,CAXS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAjB;;AAAA;AAAA;AAAA;AAAA","file":"make-relative.js","sourcesContent":["const { relative, dirname } = require(`path`)\nconst getConfig = require(`./get-config`)\nconst slash = require(`slash`)\n\nconst cwd = process.cwd()\n\nmodule.exports = async (markdownPath, imagePath, options) => {\n\tconst { mediaPath, publicPath } = await getConfig(options)\n\tif(\n\t\ttypeof imagePath !== `string` ||\n\t\timagePath.indexOf(`${publicPath}/`) !== 0\n\t){\n\t\treturn imagePath\n\t}\n\tmarkdownPath = dirname(markdownPath).replace(`${cwd}/`, ``)\n\timagePath = imagePath.replace(publicPath, mediaPath)\n\tconst newPath = relative(markdownPath, imagePath)\n\treturn slash(newPath)\n}"]}