{"version":3,"sources":["src/index.js"],"names":["select","require","makeRelative","module","exports","options","markdownNode","markdownAST","getNode","imgs","length","parent","absolutePath","Promise","all","map","url","newPaths","forEach","img","key"],"mappings":";;;;;;;;;;;;AAAA,IAAMA,SAASC,4BAAf;AACA,IAAMC,eAAeD,0BAArB;;AAEAE,OAAOC,OAAP;AAAA,qFAAiB,wBAA+CC,OAA/C;AAAA,MAASC,YAAT,SAASA,YAAT;AAAA,MAAuBC,WAAvB,SAAuBA,WAAvB;AAAA,MAAoCC,OAApC,SAAoCA,OAApC;;AAAA;;AAAA;AAAA;AAAA;AAAA;AACVC,UADU,GACHT,OAAOO,WAAP,UADG;;AAAA,WAEbE,KAAKC,MAFQ;AAAA;AAAA;AAAA;;AAAA,iBAGUF,QAAQF,aAAaK,MAArB,CAHV,EAGPC,YAHO,YAGPA,YAHO;AAAA;AAAA,aAIQC,QAAQC,GAAR,CAAYL,KAAKM,GAAL,CAAS,iBAAa;AAAA,WAAVC,GAAU,SAAVA,GAAU;;AACxD,cAAOd,aAAaU,YAAb,EAA2BI,GAA3B,EAAgCX,OAAhC,CAAP;AACA,OAFkC,CAAZ,CAJR;;AAAA;AAITY,cAJS;;AAOfR,WAAKS,OAAL,CAAa,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1BD,WAAIH,GAAJ,GAAUC,SAASG,GAAT,CAAV;AACA,OAFD;;AAPe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAjB;;AAAA;AAAA;AAAA;AAAA","file":"index.js","sourcesContent":["const select = require(`unist-util-select`)\nconst makeRelative = require(`./make-relative`)\n\nmodule.exports = async ({ markdownNode, markdownAST, getNode }, options) => {\n\tconst imgs = select(markdownAST, `image`)\n\tif(imgs.length){\n\t\tconst { absolutePath } = getNode(markdownNode.parent)\n\t\tconst newPaths = await Promise.all(imgs.map(({ url }) => {\n\t\t\treturn makeRelative(absolutePath, url, options)\n\t\t}))\n\t\timgs.forEach((img, key) => {\n\t\t\timg.url = newPaths[key]\n\t\t})\n\t}\n}"]}