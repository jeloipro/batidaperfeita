{"version":3,"sources":["src/get-config.js"],"names":["require","join","readYaml","cwd","process","obj","module","exports","cmsConfig","configPath","media_folder","public_folder","console","error","exit","mediaPath","publicPath"],"mappings":";;;;;;;;;;;;eAAiBA,e;IAATC,I,YAAAA,I;;AACR,IAAMC,WAAWF,4BAAjB;;AAEA,IAAMG,MAAMC,QAAQD,GAAR,EAAZ;AACA,IAAIE,YAAJ;;AAEAC,OAAOC,OAAP;AAAA,qFAAiB;AAAA,8BAAiBC,SAAjB;AAAA,MAAiBA,SAAjB;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,WACbH,GADa;AAAA;AAAA;AAAA;;AAAA,uCACDA,GADC;;AAAA;AAEVI,gBAFU,GAEGR,KAAKE,GAAL,EAAUK,SAAV,CAFH;AAAA;AAAA,aAG8BN,SAASO,UAAT,CAH9B;;AAAA;AAAA;AAGRC,kBAHQ,SAGRA,YAHQ;AAGMC,mBAHN,SAGMA,aAHN;;AAIhB,UAAG,CAACD,YAAJ,EAAkB;AACjBE,eAAQC,KAAR;AACAT,eAAQU,IAAR,CAAa,CAAb;AACA;AACD,UAAG,CAACH,aAAJ,EAAmB;AAClBC,eAAQC,KAAR;AACAT,eAAQU,IAAR,CAAa,CAAb;AACA;AACDT,YAAM;AACLU,kBAAWL,YADN;AAELM,mBAAYL;AAFP,OAAN;AAZgB,uCAgBTN,GAhBS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAAjB;;AAAA;AAAA;AAAA;AAAA","file":"get-config.js","sourcesContent":["const { join } = require(`path`)\nconst readYaml = require(`read-yaml-promise`)\n\nconst cwd = process.cwd()\nlet obj\n\nmodule.exports = async function({ cmsConfig = `/static/admin/config.yml` }){\n\tif(obj) return obj\n\tconst configPath = join(cwd, cmsConfig)\n\tconst { media_folder, public_folder } = await readYaml(configPath)\n\tif(!media_folder ){\n\t\tconsole.error(`Missing media_folder in Netlify CMS config`)\n\t\tprocess.exit(1)\n\t}\n\tif(!public_folder ){\n\t\tconsole.error(`Missing public_folder in Netlify CMS config`)\n\t\tprocess.exit(1)\n\t}\n\tobj = {\n\t\tmediaPath: media_folder,\n\t\tpublicPath: public_folder,\n\t}\n\treturn obj\n}\n"]}